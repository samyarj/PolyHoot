<div class="info">
    <h2>{{ name }}</h2>
    <mat-icon id="chatBubble" color="white" title="clavardage">forum</mat-icon>
</div>

<div #previousMessages id="previous-messages">
    <div *ngIf="chatMessagesLoading" class="loading-container">
        <div class="spinner-border text-primary" role="status"></div>
        <div>Chat is loading...</div>
    </div>

    <div *ngIf="!chatMessagesLoading">
        <div
            *ngFor="let chatmessage of chatMessages"
            [ngClass]="{
                user: name === chatmessage.author,
                systemMessage: chatmessage.author === 'System',
                otherUser: name !== chatmessage.author
            }"
        >
            <div class="message">{{ chatmessage.author + ' : ' + chatmessage.message }}</div>
            <div class="spacer"></div>
            <div class="time">{{ chatmessage.date | date: "HH'h'mm" }}</div>
        </div>
    </div>
</div>

<div id="chat-message-input-div">
    <textarea id="myTextInput" (keydown)="onKeyDown($event)" placeholder="Entrez votre message." [(ngModel)]="inputMessage"></textarea>
    <button type="button" id="send-button" (click)="handleSendMessage()">Envoyer</button>
</div>
