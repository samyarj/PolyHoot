<div class="container" (mouseenter)="toggleMove()" (mouseleave)="toggleMove()">
    <div class="presentation-div" [ngClass]="{ 'move-to-side': isMoved }">
        <div class="lootbox-image">{{ lootBoxContainer.image }}</div>
        <div class="price" [ngClass]="{ 'text-moved': isMoved }">{{ lootBoxContainer.price }} PIÈCES</div>
    </div>
    <div class="interaction-div" [ngClass]="{ show: isMoved }">
        <div class="interaction-div-content">
            <div class="preview-items-wrapper">
                <div class="preview-items" onWheel="this.scrollLeft+=event.deltaY>0?25:-25">
                    <ng-container *ngFor="let reward of lootBoxContainer.rewards; let i = index; let last = last">
                        <div
                            class="item"
                            [ngClass]="{
                                'very-rare': reward.rarity === rewardRarity.VeryRare,
                                rare: reward.rarity === rewardRarity.Rare,
                                common: reward.rarity === rewardRarity.Common
                            }"
                        >
                            <div *ngIf="reward.type === rewardType.Theme" class="item-img item-img-theme" [attr.data-theme]="reward.value">
                                {{ reward.value }}
                            </div>
                            <app-avatar-banner
                                *ngIf="reward.type === rewardType.Avatar"
                                [avatarUrl]="reward.value || undefined"
                                class="item-img"
                            ></app-avatar-banner>
                            <app-avatar-banner
                                *ngIf="reward.type === rewardType.Border"
                                [bannerUrl]="reward.value || undefined"
                                class="item-img"
                            ></app-avatar-banner>
                            <div
                                *ngIf="reward.type === rewardType.Coins && coinShow(reward.value, 0, 25)"
                                class="item-img item-img-coins"
                                [attr.data-theme]="reward.value"
                            >
                                <svg xmlns="http://www.w3.org/2000/svg" width="128" height="128" viewBox="0 0 24 24">
                                    <g fill="var(--text-color)">
                                        <path
                                            fill="currentColor"
                                            d="M12 5c2.592 0 4.986.465 6.77 1.258c.89.396 1.674.893 2.247 1.496c.53.557.914 1.243.975 2.029L22 10v4c0 .878-.404 1.639-.983 2.246c-.573.603-1.356 1.1-2.247 1.496C16.986 18.535 14.592 19 12 19s-4.986-.465-6.77-1.258c-.89-.396-1.674-.893-2.247-1.496c-.53-.557-.914-1.243-.975-2.029L2 14v-4c0-.878.404-1.639.983-2.246c.573-.603 1.356-1.1 2.247-1.496C7.014 5.465 9.408 5 12 5m8 8.08c-.375.246-.79.466-1.23.662C16.986 14.535 14.592 15 12 15s-4.986-.465-6.77-1.258A9 9 0 0 1 4 13.08V14c0 .227.1.518.432.868c.337.354.872.719 1.61 1.047C7.516 16.57 9.622 17 12 17s4.484-.43 5.958-1.085c.738-.328 1.273-.693 1.61-1.047c.333-.35.432-.641.432-.868z"
                                        />
                                    </g>
                                </svg>
                                <!-- <p>
                                    {{ reward.value }}
                                </p> -->
                            </div>
                            <div
                                *ngIf="reward.type === rewardType.Coins && coinShow(reward.value, 25, 50)"
                                class="item-img item-img-coins"
                                [attr.data-theme]="reward.value"
                            >
                                <svg xmlns="http://www.w3.org/2000/svg" width="128" height="128" viewBox="0 0 24 24">
                                    <g fill="none">
                                        <path
                                            fill="currentColor"
                                            d="M21 8c0 1.02-1.186 1.92-3 2.462c-1.134.34-2.513.538-4 .538s-2.866-.199-4-.538C8.187 9.92 7 9.02 7 8c0-1.657 3.134-3 7-3s7 1.343 7 3"
                                        />
                                        <path
                                            stroke="currentColor"
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            stroke-width="2"
                                            d="M21 8c0-1.657-3.134-3-7-3S7 6.343 7 8m14 0v4c0 1.02-1.186 1.92-3 2.462c-1.134.34-2.513.538-4 .538s-2.866-.199-4-.538C8.187 13.92 7 13.02 7 12V8m14 0c0 1.02-1.186 1.92-3 2.462c-1.134.34-2.513.538-4 .538s-2.866-.199-4-.538C8.187 9.92 7 9.02 7 8"
                                        />
                                        <path
                                            stroke="currentColor"
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            stroke-width="2"
                                            d="M3 12v4c0 1.02 1.187 1.92 3 2.462c1.134.34 2.513.538 4 .538s2.866-.199 4-.538c1.813-.542 3-1.442 3-2.462v-1M3 12c0-1.197 1.635-2.23 4-2.711M3 12c0 1.02 1.187 1.92 3 2.462c1.134.34 2.513.538 4 .538c.695 0 1.366-.043 2-.124"
                                        />
                                    </g>
                                </svg>

                                <!-- <p>
                                    {{ reward.value }}
                                </p> -->
                            </div>
                            <div
                                *ngIf="reward.type === rewardType.Coins && coinShow(reward.value, 50, 250)"
                                class="item-img item-img-coins"
                                [attr.data-theme]="reward.value"
                            >
                                <svg xmlns="http://www.w3.org/2000/svg" width="128" height="128" viewBox="0 0 24 24">
                                    <g fill="none">
                                        <path
                                            d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"
                                        />
                                        <path
                                            fill="currentColor"
                                            d="M21 16.143V17.5c0 .814-.381 1.51-.91 2.057c-.523.542-1.233.984-2.032 1.334C16.456 21.591 14.314 22 12 22s-4.456-.408-6.058-1.109c-.799-.35-1.509-.792-2.032-1.334c-.485-.5-.845-1.128-.902-1.856L3 17.5v-1.357q.697.398 1.494.695c2.03.751 4.685 1.17 7.506 1.17s5.476-.419 7.506-1.17q.598-.222 1.139-.503zm-18-5.5q.697.398 1.494.695c2.03.751 4.685 1.17 7.506 1.17s5.476-.419 7.506-1.17A10 10 0 0 0 21 10.643v3.105a8.3 8.3 0 0 1-2.188 1.214c-1.755.65-4.164 1.047-6.812 1.047c-2.647 0-5.056-.397-6.812-1.047A8.3 8.3 0 0 1 3 13.748zM12 3c2.314 0 4.456.408 6.058 1.109c.799.35 1.509.792 2.032 1.334c.485.5.845 1.128.902 1.856L21 7.5v.748a8.3 8.3 0 0 1-2.188 1.214c-1.755.65-4.164 1.047-6.812 1.047c-2.647 0-5.056-.397-6.812-1.047a8.3 8.3 0 0 1-1.905-1.006L3 8.248V7.5c0-.814.381-1.51.91-2.057c.523-.542 1.233-.984 2.032-1.334C7.544 3.409 9.686 3 12 3"
                                        />
                                    </g>
                                </svg>
                                <!-- <p>
                                    {{ reward.value }}
                                </p> -->
                            </div>
                            <div
                                *ngIf="reward.type === rewardType.Coins && coinShow(reward.value, 250, 5000000)"
                                class="item-img item-img-coins"
                                [attr.data-theme]="reward.value"
                            >
                                <svg xmlns="http://www.w3.org/2000/svg" width="128" height="128" viewBox="0 0 16 16">
                                    <path
                                        fill="currentColor"
                                        d="M15.93 5.75a1.25 1.25 0 0 0-.3-.51a.83.83 0 0 0-.394-.238c.074.117.141.252.191.396q.085.221.103.467a1.8 1.8 0 0 1 0 .424a1 1 0 0 0-.142-.292a1.2 1.2 0 0 0-.48-.383a.94.94 0 0 0-1.195.382q-.075.123-.12.266c-1.182-1.968-3.309-3.271-5.741-3.271q-.186 0-.369.01a8.2 8.2 0 0 0-2.231.313C5.19 2.88 4.62 2 2 2l.8 2.51a5.2 5.2 0 0 0-1.247 1.465L0 6s-.17 4 1 4h.54a5.3 5.3 0 0 0 1.445 1.589L3 13.999h1.08c1.31 0 1.92 0 1.92-.75v-.39a8.3 8.3 0 0 0 3.051-.008L9 13.249c0 .75.62.75 1.94.75H12v-2.39a4.8 4.8 0 0 0 1.903-2.717c.057-.027.114-.024.172-.024s.115-.003.172-.01c.251-.046.48-.144.679-.283a1.65 1.65 0 0 0 .591-.765q.042-.14.063-.292l.001-.01c.221-.262.372-.59.419-.951a1.8 1.8 0 0 0-.072-.822zm-12.42 0a.75.75 0 1 1 0 1.5a.75.75 0 0 1 0-1.5M5.88 5a.5.5 0 0 1-.599-.247a.39.39 0 0 1 .296-.503a8 8 0 0 1 2.009-.22l.101-.001q1.01.002 1.949.232c.126.024.262.182.262.372a.4.4 0 0 1-.019.119a.48.48 0 0 1-.346.247H9.38a7.2 7.2 0 0 0-1.706-.2h-.089c-.605 0-1.193.073-1.756.211zm8.7 2.93a1.2 1.2 0 0 1-.453.199L14 8.14v-.45c.165.125.374.2.6.2h.021zm.08-.68a.44.44 0 0 1-.459-.248a.6.6 0 0 1 .001-.566a.33.33 0 0 1 .43-.096a.48.48 0 0 1 .308.448v.001a1.5 1.5 0 0 1-.001.418a1.3 1.3 0 0 1-.282.022z"
                                    />
                                </svg>
                                <!-- <p>
                                    {{ reward.value }}
                                </p> -->
                            </div>
                            <div class="item-chances">{{ reward.odds }}%</div>
                        </div>

                        <div *ngIf="!last" class="divider"></div>
                    </ng-container>
                </div>
            </div>
            <div class="section-divider"></div>
            <div class="buy-zone-wrapper">
                <div class="buy-zone">
                    <button
                        class="custom-button-medium"
                        [disabled]="isClaimingBox"
                        [ngClass]="{ 'custom-button-medium-disabled': isClaimingBox }"
                        (click)="openFunction(id)"
                    >
                        Ouvrir pour {{ lootBoxContainer.price }} pièces
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
